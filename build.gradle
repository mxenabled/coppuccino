
plugins {
    id "java-gradle-plugin"
    id "java-library"
    id "maven-publish"
    id "groovy"
    id "com.github.ben-manes.versions" version "0.28.0"
}

group "com.mx.coppuccino"
version "2.0.1"

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    gradlePluginPortal()
    mavenLocal()
}

dependencies {
    implementation "ru.vyarus:gradle-quality-plugin:4.7.0"
    implementation 'com.github.spotbugs.snom:spotbugs-gradle-plugin:5.0.6'
    implementation ("com.diffplug.spotless:spotless-plugin-gradle:6.6.1") {
        exclude group: 'com.google.googlejavaformat', module: 'google-java-format-parent'
    }
    implementation "com.google.googlejavaformat:google-java-format-parent:1.15.0"
    implementation "io.gitlab.arturbosch.detekt:detekt-gradle-plugin:1.10.0"
    implementation "org.kordamp.gradle:jacoco-gradle-plugin:0.39.0"
    testImplementation group: "junit", name: "junit", version: "4.13"
}

project.description     = "Java style, standard, and safety enforcement"
project.group           = "com.mx.coppuccino"
project.version         = rootProject.version

project.ext.name        = "coppuccino"
project.ext.pluginId    = "com.mx.coppuccino"
project.ext.url         = "https://github.com/mxenabled/Coppuccino"

gradlePlugin {
    plugins {
        coppuccinoPlugin {
            id = project.pluginId
            implementationClass = "com.mx.coppuccino.CoppuccinoPlugin"
        }
        coppuccinoJitPackPlugin {
            id = "com.github.mxenabled.coppuccino"
            implementationClass = "com.mx.coppuccino.CoppuccinoPlugin"
        }
    }
}
